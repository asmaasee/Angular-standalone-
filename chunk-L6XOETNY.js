import{d as Y,e as H,g as J,i as K,j as Q,k as X,l as $,m as ee}from"./chunk-JHZHI24X.js";import{f as M}from"./chunk-GQMUGF4N.js";import{c as I,d as z,e as D,f as T,g as N,h as q,i as B,j as Z,k as j,l as R,m as U,n as G}from"./chunk-MEACJICG.js";import{Cb as d,Eb as C,Fb as V,Gb as _,Ha as u,Hb as f,Ib as h,Ma as y,Nb as E,R as S,Sa as k,Wa as x,X as b,bb as p,da as l,db as O,ea as g,kb as i,kc as A,lb as r,lc as L,mc as W,qb as v,qc as F,rb as m,sb as c}from"./chunk-AOM3OOSJ.js";import{e as w}from"./chunk-ACKELEN3.js";var P=class a{auth=b(H);router=b(M);register(n,e){return w(this,null,function*(){try{let o=yield J(this.auth,n,e);yield K(o.user),alert("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062D\u0633\u0627\u0628 \u0628\u0646\u062C\u0627\u062D. \u064A\u0631\u062C\u0649 \u062A\u0623\u0643\u064A\u062F \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A."),this.router.navigate(["/login"])}catch(o){alert(`\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062A\u0633\u062C\u064A\u0644: ${o.message}`)}})}login(n,e){return w(this,null,function*(){try{if(!(yield X(this.auth,n,e)).user.emailVerified){alert("\u064A\u0631\u062C\u0649 \u062A\u0623\u0643\u064A\u062F \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0623\u0648\u0644\u0627\u064B."),yield this.logout();return}alert("\u062A\u0645 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0628\u0646\u062C\u0627\u062D."),this.router.navigate(["/overview"])}catch(o){alert(`\u062E\u0637\u0623 \u0641\u064A \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644: ${o.message}`)}})}logout(){return w(this,null,function*(){yield ee(this.auth),this.router.navigate(["/login"])})}resetPassword(n){return w(this,null,function*(){try{yield Q(this.auth,n),alert("\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0631\u0627\u0628\u0637 \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0625\u0644\u0649 \u0628\u0631\u064A\u062F\u0643.")}catch(e){alert(`\u062E\u0637\u0623: ${e.message}`)}})}loginWithGoogle(){return w(this,null,function*(){try{let n=new Y,e=yield $(this.auth,n);alert(`\u0645\u0631\u062D\u0628\u064B\u0627 ${e.user.displayName}`),this.router.navigate(["/overview"])}catch(n){alert(`\u062E\u0637\u0623 \u0641\u064A \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0628\u062C\u0648\u062C\u0644: ${n.message}`)}})}get currentUser(){return this.auth.currentUser}static \u0275fac=function(e){return new(e||a)};static \u0275prov=S({token:a,factory:a.\u0275fac,providedIn:"root"})};var ie=(a,n,e)=>({weak:a,medium:n,strong:e});function re(a,n){if(a&1){let e=v();i(0,"form",5),m("ngSubmit",function(){l(e);let t=c();return g(t.login())}),i(1,"h2"),d(2,"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"),r(),i(3,"input",6),h("ngModelChange",function(t){l(e);let s=c();return f(s.email,t)||(s.email=t),g(t)}),r(),i(4,"div",7)(5,"input",8),h("ngModelChange",function(t){l(e);let s=c();return f(s.password,t)||(s.password=t),g(t)}),r(),i(6,"i",9),m("click",function(){l(e);let t=c();return g(t.showPassword=!t.showPassword)}),d(7),r()(),i(8,"button",10),d(9,"\u062F\u062E\u0648\u0644"),r(),i(10,"button",11),m("click",function(){l(e);let t=c();return g(t.forgotPassword())}),d(11,"\u0646\u0633\u064A\u062A \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631\u061F"),r()()}if(a&2){let e=c();u(3),_("ngModel",e.email),u(2),p("type",e.showPassword?"text":"password"),_("ngModel",e.password),u(2),C(" ",e.showPassword?"\u{1F648}":"\u{1F441}\uFE0F"," ")}}function ae(a,n){if(a&1&&(i(0,"option",21),d(1),r()),a&2){let e=n.$implicit;p("ngValue",e),u(),V("",e.name," (",e.code,")")}}function se(a,n){if(a&1&&(i(0,"div",22)(1,"span",23),d(2),r()()),a&2){let e=c(2);u(),p("ngClass",E(2,ie,e.passwordStrength==="weak",e.passwordStrength==="medium",e.passwordStrength==="strong")),u(),C(" ",e.passwordStrength==="strong"?"\u0642\u0648\u064A\u0629 \u2705":e.passwordStrength==="medium"?"\u0645\u062A\u0648\u0633\u0637\u0629 \u26A0\uFE0F":"\u0636\u0639\u064A\u0641\u0629 \u274C"," ")}}function ue(a,n){if(a&1&&(i(0,"div",24),d(1),r()),a&2){let e=c(2);u(),C(" ",e.successMessage," ")}}function ce(a,n){if(a&1){let e=v();i(0,"form",5),m("ngSubmit",function(){l(e);let t=c();return g(t.signup())}),i(1,"h2"),d(2,"\u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628 \u062C\u062F\u064A\u062F"),r(),i(3,"input",12),h("ngModelChange",function(t){l(e);let s=c();return f(s.fullName,t)||(s.fullName=t),g(t)}),r(),i(4,"select",13),h("ngModelChange",function(t){l(e);let s=c();return f(s.country,t)||(s.country=t),g(t)}),x(5,ae,2,3,"option",14),r(),i(6,"input",15),h("ngModelChange",function(t){l(e);let s=c();return f(s.phone,t)||(s.phone=t),g(t)}),r(),i(7,"input",16),h("ngModelChange",function(t){l(e);let s=c();return f(s.email,t)||(s.email=t),g(t)}),r(),i(8,"div",7)(9,"input",17),h("ngModelChange",function(t){l(e);let s=c();return f(s.password,t)||(s.password=t),g(t)}),m("ngModelChange",function(){l(e);let t=c();return g(t.checkPasswordStrength(t.password))}),r(),i(10,"i",9),m("click",function(){l(e);let t=c();return g(t.showPassword=!t.showPassword)}),d(11),r()(),x(12,se,3,6,"div",18),i(13,"div",7)(14,"input",19),h("ngModelChange",function(t){l(e);let s=c();return f(s.confirmPassword,t)||(s.confirmPassword=t),g(t)}),r(),i(15,"i",9),m("click",function(){l(e);let t=c();return g(t.showConfirmPassword=!t.showConfirmPassword)}),d(16),r()(),i(17,"button",10),d(18,"\u062A\u0633\u062C\u064A\u0644"),r(),x(19,ue,2,1,"div",20),r()}if(a&2){let e=c();u(3),_("ngModel",e.fullName),u(),_("ngModel",e.country),u(),p("ngForOf",e.countries),u(),_("ngModel",e.phone),u(),_("ngModel",e.email),u(2),p("type",e.showPassword?"text":"password"),_("ngModel",e.password),u(2),C(" ",e.showPassword?"\u{1F648}":"\u{1F441}\uFE0F"," "),u(),p("ngIf",e.passwordStrength),u(2),p("type",e.showConfirmPassword?"text":"password"),_("ngModel",e.confirmPassword),u(2),C(" ",e.showConfirmPassword?"\u{1F648}":"\u{1F441}\uFE0F"," "),u(3),p("ngIf",e.successMessage)}}var te=class a{constructor(n,e){this.router=n;this.auth=e}view="signup";fullName="";phone="";email="";password="";confirmPassword="";passwordStrength="";showPassword=!1;showConfirmPassword=!1;successMessage="";country={name:"\u0645\u0635\u0631",code:"+20"};countries=[{name:"\u0645\u0635\u0631",code:"+20"},{name:"\u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629",code:"+966"},{name:"\u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062A",code:"+971"},{name:"\u0627\u0644\u0643\u0648\u064A\u062A",code:"+965"},{name:"\u0642\u0637\u0631",code:"+974"},{name:"\u0627\u0644\u0623\u0631\u062F\u0646",code:"+962"},{name:"\u0627\u0644\u0645\u063A\u0631\u0628",code:"+212"},{name:"\u0623\u0645\u0631\u064A\u0643\u0627",code:"+1"},{name:"\u0641\u0631\u0646\u0633\u0627",code:"+33"},{name:"\u0623\u0644\u0645\u0627\u0646\u064A\u0627",code:"+49"},{name:"\u0628\u0631\u064A\u0637\u0627\u0646\u064A\u0627",code:"+44"},{name:"\u062A\u0631\u0643\u064A\u0627",code:"+90"},{name:"\u0627\u0644\u064A\u0627\u0628\u0627\u0646",code:"+81"},{name:"\u0627\u0644\u0647\u0646\u062F",code:"+91"},{name:"\u0631\u0648\u0633\u064A\u0627",code:"+7"}];switchView(n){this.view=n,this.clearForm()}clearForm(){this.fullName="",this.phone="",this.email="",this.password="",this.confirmPassword="",this.passwordStrength="",this.successMessage="",this.showPassword=!1,this.showConfirmPassword=!1}checkPasswordStrength(n){this.password=n;let e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*#?&]).{8,}$/,o=/^((?=.*[a-z])(?=.*[A-Z])(?=.*\d)).{6,}$/;e.test(n)?this.passwordStrength="strong":o.test(n)?this.passwordStrength="medium":this.passwordStrength=n?"weak":""}validateEmail(n){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(n)}validatePassword(n){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*#?&]).{8,}$/.test(n)}signup(){if(!this.validateEmail(this.email))return alert("\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0625\u064A\u0645\u064A\u0644 \u0635\u062D\u064A\u062D.");if(!/^[0-9]+$/.test(this.phone))return alert("\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0623\u0631\u0642\u0627\u0645 \u0641\u0642\u0637.");if(!this.validatePassword(this.password))return alert("\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u063A\u064A\u0631 \u0642\u0648\u064A\u0629.");if(this.password!==this.confirmPassword)return alert("\u0643\u0644\u0645\u0627\u062A \u0627\u0644\u0645\u0631\u0648\u0631 \u063A\u064A\u0631 \u0645\u062A\u0637\u0627\u0628\u0642\u0629.");confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062D\u0633\u0627\u0628\u061F")&&this.auth.register(this.email,this.password)}login(){if(!this.email||!this.password)return alert("\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0627\u0644\u0625\u064A\u0645\u064A\u0644 \u0648\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631.");this.auth.login(this.email,this.password)}forgotPassword(){if(!this.email)return alert("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062F\u062E\u0644 \u0628\u0631\u064A\u062F\u0643 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0623\u0648\u0644\u0627\u064B.");this.auth.resetPassword(this.email)}static \u0275fac=function(e){return new(e||a)(y(M),y(P))};static \u0275cmp=k({type:a,selectors:[["app-logout"]],decls:9,vars:6,consts:[[1,"auth-container"],[1,"auth-box"],[1,"switcher"],[3,"click"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],["type","email","name","loginEmail","placeholder","\u0627\u0644\u0625\u064A\u0645\u064A\u0644","required","",3,"ngModelChange","ngModel"],[1,"password-wrapper"],["name","loginPassword","placeholder","\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631","required","",3,"ngModelChange","type","ngModel"],[1,"eye-icon",3,"click"],["type","submit"],["type","button",1,"forgot-btn",3,"click"],["type","text","name","fullName","placeholder","\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644","required","",3,"ngModelChange","ngModel"],["name","country","required","",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["type","tel","name","phone","placeholder","\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641","required","","pattern","[0-9]*","inputmode","numeric",3,"ngModelChange","ngModel"],["type","email","name","signupEmail","placeholder","\u0627\u0644\u0625\u064A\u0645\u064A\u0644","required","","pattern","[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",3,"ngModelChange","ngModel"],["name","signupPassword","placeholder","\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631","required","",3,"ngModelChange","type","ngModel"],["class","password-strength",4,"ngIf"],["name","confirmPassword","placeholder","\u062A\u0623\u0643\u064A\u062F \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631","required","",3,"ngModelChange","type","ngModel"],["class","success-message",4,"ngIf"],[3,"ngValue"],[1,"password-strength"],[3,"ngClass"],[1,"success-message"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),m("click",function(){return o.switchView("login")}),d(4,"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"),r(),i(5,"button",3),m("click",function(){return o.switchView("signup")}),d(6,"\u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628"),r()(),x(7,re,12,4,"form",4)(8,ce,20,13,"form",4),r()()),e&2&&(u(3),O("active",o.view==="login"),u(2),O("active",o.view==="signup"),u(2),p("ngIf",o.view==="login"),u(),p("ngIf",o.view==="signup"))},dependencies:[F,A,L,W,G,q,Z,j,I,B,z,D,R,U,N,T],styles:[`html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:hidden;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.auth-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:100vw;background:linear-gradient(-45deg,#f6edef,#f6d4e0,#fffeff,#fbb3c6);background-size:400% 400%;animation:_ngcontent-%COMP%_gradientMove 15s ease infinite;display:flex;justify-content:center;align-items:center;overflow:hidden;z-index:1000}.auth-box[_ngcontent-%COMP%]{background-color:#fff;padding:40px 30px;border-radius:24px;box-shadow:0 10px 30px #0000001a;width:100%;max-width:420px;min-height:540px;display:flex;flex-direction:column;justify-content:center;text-align:center;transition:all .3s ease-in-out}.auth-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:24px;font-size:22px;color:#333}.auth-box[_ngcontent-%COMP%]   .switcher[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:25px;background:#f0f0f0;border-radius:12px;overflow:hidden}.auth-box[_ngcontent-%COMP%]   .switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:12px;font-weight:700;font-size:15px;border:none;cursor:pointer;background:transparent;transition:background .3s ease}.auth-box[_ngcontent-%COMP%]   .switcher[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#f18baf;color:#fff}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:12px 15px 12px 60px;border:1px solid #ddd;border-radius:10px;font-size:16px;font-weight:500;color:#333;background-color:#fff;outline:none;appearance:none;transition:border-color .2s;text-align:left;direction:ltr}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#f18baf;box-shadow:0 0 4px #f18baf66}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder{direction:ltr;text-align:right;color:#aaa;font-size:15px}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{direction:rtl;text-align:right;background-image:url("data:image/svg+xml,%3Csvg fill='%23f18baf' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='20' height='20'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:left 20px center;background-size:16px}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{padding:12px;background-color:#f18baf;color:#fff;border:none;border-radius:10px;font-size:16px;font-weight:700;cursor:pointer;transition:background .3s ease}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#e77ba5}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .forgot-btn[_ngcontent-%COMP%]{margin-top:-10px;background:transparent;border:none;color:#f18baf;font-size:14px;cursor:pointer;text-align:left;padding:0 5px;transition:color .3s}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .forgot-btn[_ngcontent-%COMP%]:hover{color:#e0528a;text-decoration:underline}.password-wrapper[_ngcontent-%COMP%]{position:relative}.password-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.password-wrapper[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);cursor:pointer;font-size:16px;-webkit-user-select:none;user-select:none}.password-strength[_ngcontent-%COMP%]{text-align:right;font-size:14px;margin-top:-10px;margin-bottom:5px}.password-strength[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.password-strength[_ngcontent-%COMP%]   span.weak[_ngcontent-%COMP%]{color:#e74c3c}.password-strength[_ngcontent-%COMP%]   span.medium[_ngcontent-%COMP%]{color:#f39c12}.password-strength[_ngcontent-%COMP%]   span.strong[_ngcontent-%COMP%]{color:#27ae60}.success-message[_ngcontent-%COMP%]{margin-top:20px;padding:10px;background-color:#d4edda;border:1px solid #c3e6cb;color:#155724;border-radius:10px;font-weight:700;font-size:15px;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@media (max-width: 480px){.auth-box[_ngcontent-%COMP%]{padding:30px 20px;border-radius:16px;min-height:auto}.auth-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px}}@keyframes _ngcontent-%COMP%_gradientMove{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}`]})};export{te as LogoutComponent};
