import{b as E,c as z,d as V,g as L,n as I}from"./chunk-MEACJICG.js";import{Cb as d,Db as x,Eb as m,Gb as M,Ha as r,Hb as P,Ib as O,Sa as y,Wa as u,bb as C,cb as w,da as g,db as T,ea as p,ib as f,jb as h,kb as o,lb as a,mc as v,qb as k,qc as S,rb as _,sb as l}from"./chunk-AOM3OOSJ.js";import{a as b}from"./chunk-ACKELEN3.js";var N=(s,n)=>n.title,W=(s,n)=>n.text;function j(s,n){if(s&1){let t=k();o(0,"label",22)(1,"input",23),_("change",function(){let i=g(t).$implicit,c=l(2).$implicit,D=l();return p(D.toggleSubtask(c,i))}),a(),o(2,"span"),d(3),a()()}if(s&2){let t=n.$implicit;r(),C("checked",t.done),r(2),x(t.text)}}function B(s,n){if(s&1&&(o(0,"div",21),f(1,j,4,2,"label",22,W),a()),s&2){let t=l().$implicit;r(),h(t.subtasks)}}function A(s,n){if(s&1){let t=k();o(0,"div",13)(1,"input",14),O("ngModelChange",function(i){let c=g(t).$implicit;return P(c.checked,i)||(c.checked=i),p(i)}),_("change",function(){g(t);let i=l();return p(i.saveTasks())}),a(),o(2,"div",15)(3,"h4"),d(4),a(),o(5,"p"),d(6),a(),u(7,B,3,0,"div",16),a(),o(8,"div",17)(9,"span",18),d(10),a(),o(11,"button",19),_("click",function(){let i=g(t).$implicit,c=l();return p(c.editTask(i))}),o(12,"i",20),d(13,"edit"),a()(),o(14,"button",19),_("click",function(){let i=g(t).$implicit,c=l();return p(c.deleteTask(i))}),o(15,"i",20),d(16,"delete"),a()()()()}if(s&2){let t=n.$implicit;T("completed",t.checked),r(),M("ngModel",t.checked),r(3),x(t.title||"(No Title)"),r(2),x(t.description||"(No Description)"),r(),C("ngIf",t.subtasks==null?null:t.subtasks.length),r(3),m("",t.progress,"%")}}function J(s,n){if(s&1){let t=k();o(0,"label",22)(1,"input",33),O("ngModelChange",function(i){let c=g(t).$implicit;return P(c.done,i)||(c.done=i),p(i)}),a(),o(2,"span"),d(3),a()()}if(s&2){let t=n.$implicit;r(),M("ngModel",t.done),r(2),x(t.text)}}function $(s,n){if(s&1&&(o(0,"div",32),f(1,J,4,2,"label",22,W),a()),s&2){let t=l(2);r(),h(t.editingTask.subtasks)}}function R(s,n){if(s&1){let t=k();o(0,"div",24)(1,"div",25)(2,"h3"),d(3,"Edit Task"),a(),o(4,"label"),d(5,"Title"),a(),o(6,"input",26),O("ngModelChange",function(i){g(t);let c=l();return P(c.editingTask.title,i)||(c.editingTask.title=i),p(i)}),a(),o(7,"label"),d(8,"Description"),a(),o(9,"textarea",27),O("ngModelChange",function(i){g(t);let c=l();return P(c.editingTask.description,i)||(c.editingTask.description=i),p(i)}),a(),u(10,$,3,0,"div",28),o(11,"div",29)(12,"button",30),_("click",function(){g(t);let i=l();return p(i.saveTaskEdits())}),d(13,"Save"),a(),o(14,"button",31),_("click",function(){g(t);let i=l();return p(i.cancelEdit())}),d(15,"Cancel"),a()()()()}if(s&2){let t=l();r(6),M("ngModel",t.editingTask.title),r(3),M("ngModel",t.editingTask.description),r(),C("ngIf",t.editingTask.subtasks==null?null:t.editingTask.subtasks.length)}}var F=class s{tasks=[];editingTask=null;newStepText="";originalTaskRef=null;constructor(){this.loadTasks()}get completedTasks(){return this.tasks.filter(n=>n.checked).length}get inProgressTasks(){return this.tasks.filter(n=>!n.checked&&n.progress>0&&n.progress<100).length}get overallProgress(){if(!this.tasks.length)return 0;let n=this.tasks.reduce((t,e)=>t+(e.progress||0),0);return Math.round(n/this.tasks.length)}loadTasks(){let n=localStorage.getItem("tasks");n&&(this.tasks=JSON.parse(n))}saveTasks(){localStorage.setItem("tasks",JSON.stringify(this.tasks))}addTask(){this.tasks.push({title:"",description:"",progress:0,checked:!1,subtasks:[]}),this.saveTasks()}deleteTask(n){this.tasks=this.tasks.filter(t=>t!==n),this.saveTasks()}editTask(n){if(this.editingTask=JSON.parse(JSON.stringify(n)),this.originalTaskRef=n,this.editingTask&&this.editingTask.description){let t=this.editingTask.description.split(`
`).map(e=>e.trim()).filter(e=>e);this.editingTask.subtasks=t.map(e=>({text:e,done:!1}))}}saveTaskEdits(){if(this.editingTask){let n=this.tasks.indexOf(this.originalTaskRef);if(n>-1){let t=this.editingTask.subtasks?.filter(c=>c.done).length||0,e=this.editingTask.subtasks?.length||0,i=e?Math.round(t/e*100):0;this.editingTask.progress=i,this.tasks[n]=b({},this.editingTask),this.saveTasks()}this.editingTask=null}}cancelEdit(){this.editingTask=null}toggleSubtask(n,t){t.done=!t.done;let e=n.subtasks?.length||0,i=n.subtasks?.filter(c=>c.done).length||0;n.progress=e?Math.round(i/e*100):0,this.saveTasks()}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=y({type:s,selectors:[["app-layers"]],decls:22,vars:7,consts:[[1,"tasks-wrapper"],[1,"tasks-list"],[1,"tasks-header"],[1,"add-task-btn",3,"click"],[1,"task-card",3,"completed"],[1,"tasks-summary"],[1,"title"],[1,"progress-circle"],[1,"percentage"],[1,"summary-box","blue"],[1,"summary-box","green"],[1,"summary-box","orange"],["class","edit-modal",4,"ngIf"],[1,"task-card"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"task-details"],["class","subtasks-inline",4,"ngIf"],[1,"task-actions"],[1,"task-progress"],[3,"click"],[1,"material-icons"],[1,"subtasks-inline"],[1,"circle-check"],["type","checkbox",3,"change","checked"],[1,"edit-modal"],[1,"modal-content"],["type","text",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["class","subtasks-wrapper styled",4,"ngIf"],[1,"modal-actions"],[1,"save",3,"click"],[1,"cancel",3,"click"],[1,"subtasks-wrapper","styled"],["type","checkbox",3,"ngModelChange","ngModel"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),d(4,"System Tasks"),a(),o(5,"button",3),_("click",function(){return e.addTask()}),d(6,"ADD TASK"),a()(),f(7,A,17,7,"div",4,N),a(),o(9,"div",5)(10,"h3",6),d(11," Overall Progress"),a(),o(12,"div",7)(13,"div",8),d(14),a()(),o(15,"div",9),d(16),a(),o(17,"div",10),d(18),a(),o(19,"div",11),d(20),a()()(),u(21,R,16,3,"div",12)),t&2&&(r(7),h(e.tasks),r(5),w("background","conic-gradient(#1976d2 "+e.overallProgress+"%, #eee 0)"),r(2),m("",e.overallProgress,"%"),r(2),m("\u{1F4CB} ",e.tasks.length," Total Tasks"),r(2),m("\u2705 ",e.completedTasks," Completed"),r(2),m("\u23F3 ",e.inProgressTasks," In Progress"),r(),C("ngIf",e.editingTask))},dependencies:[S,v,I,z,E,V,L],styles:[".tasks-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:30px;gap:30px}.tasks-list[_ngcontent-%COMP%]{flex:1}.tasks-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px}.tasks-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;margin:0}.tasks-header[_ngcontent-%COMP%]   .add-task-btn[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;border:none;padding:10px 16px;border-radius:6px;font-weight:700;cursor:pointer}.task-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;padding:15px 20px;border-radius:10px;margin-bottom:16px;display:flex;align-items:center;justify-content:space-between;transition:background .3s;position:relative}.task-card.completed[_ngcontent-%COMP%]{background-color:#e8f5e9;border-left:4px solid #4caf50}.task-card.completed[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-decoration:line-through}.task-card[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:12px}.task-card[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]{flex:1}.task-card[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 6px;font-size:16px;color:#333}.task-card[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:0 0 10px}.task-card[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   .subtasks-inline[_ngcontent-%COMP%]{margin-top:10px}.task-card[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   .subtasks-inline[_ngcontent-%COMP%]   .circle-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:5px}.task-card[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   .subtasks-inline[_ngcontent-%COMP%]   .circle-check[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{accent-color:#1976d2}.task-card[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   .subtasks-inline[_ngcontent-%COMP%]   .circle-check[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:#444}.task-card[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.task-card[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   .task-progress[_ngcontent-%COMP%]{font-size:13px;background-color:#e3f2fd;color:#1976d2;padding:4px 10px;border-radius:12px;font-weight:500}.task-card[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer}.task-card[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{font-size:20px}.task-card[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){color:#1976d2}.task-card[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(3){color:#e53935}.tasks-summary[_ngcontent-%COMP%]{width:300px;font-size:18px;margin-bottom:40px;margin-top:20px;text-align:left!important;margin-left:10px}.title[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:24px;margin-bottom:20px}.progress-circle[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;transition:background .3s ease}.percentage[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:#444}.summary-box[_ngcontent-%COMP%]{text-align:center;padding:14px;border-radius:8px;font-weight:700;color:#fff;margin-bottom:10px;font-size:14px}.summary-box.blue[_ngcontent-%COMP%]{background-color:#2196f3}.summary-box.green[_ngcontent-%COMP%]{background-color:#4caf50}.summary-box.orange[_ngcontent-%COMP%]{background-color:#fbc068}.edit-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;padding:30px;width:500px;border-radius:10px}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:20px}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-top:12px}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:6px;border:1px solid #ccc;border-radius:5px;font-size:14px}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .subtasks-wrapper[_ngcontent-%COMP%]{margin-top:15px}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .subtasks-wrapper[_ngcontent-%COMP%]   .circle-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:8px}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .subtasks-wrapper[_ngcontent-%COMP%]   .circle-check[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{accent-color:#1976d2}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .subtasks-wrapper[_ngcontent-%COMP%]   .circle-check[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .subtasks-wrapper[_ngcontent-%COMP%]   .add-subtask[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:10px}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .subtasks-wrapper[_ngcontent-%COMP%]   .add-subtask[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .subtasks-wrapper[_ngcontent-%COMP%]   .add-subtask[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;padding:0 12px;border-radius:4px;cursor:pointer;font-weight:700}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:flex-end;gap:12px}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;padding:10px 18px;border-radius:6px;cursor:pointer}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{background:#eee;color:#333;border:none;padding:10px 18px;border-radius:6px;cursor:pointer}@media (max-width: 768px){.tasks-wrapper[_ngcontent-%COMP%]{padding:15px}.tasks-wrapper[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:10px}.tasks-wrapper[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.tasks-wrapper[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .add-task-btn[_ngcontent-%COMP%]{width:100%;font-size:14px;padding:10px}.tasks-wrapper[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;padding:12px;font-size:14px}.tasks-wrapper[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px}.tasks-wrapper[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}.tasks-wrapper[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]{margin-top:10px;gap:12px}.tasks-wrapper[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   .task-progress[_ngcontent-%COMP%]{font-size:14px}.tasks-wrapper[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.tasks-wrapper[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   .subtasks-inline[_ngcontent-%COMP%]{margin-top:10px}.tasks-wrapper[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   .subtasks-inline[_ngcontent-%COMP%]   label.circle-check[_ngcontent-%COMP%]{font-size:13px;gap:6px}.tasks-wrapper[_ngcontent-%COMP%]   .tasks-summary[_ngcontent-%COMP%]{margin-top:30px}.tasks-wrapper[_ngcontent-%COMP%]   .tasks-summary[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;text-align:center}.tasks-wrapper[_ngcontent-%COMP%]   .tasks-summary[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]{width:120px;height:120px;margin:15px auto}.tasks-wrapper[_ngcontent-%COMP%]   .tasks-summary[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-size:18px}.tasks-wrapper[_ngcontent-%COMP%]   .tasks-summary[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]{font-size:14px;padding:8px 12px;border-radius:10px;margin:5px 0;text-align:center}.edit-modal[_ngcontent-%COMP%]{padding:15px}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:100%;padding:20px}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;font-size:14px;margin-top:6px;margin-bottom:12px}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%], .edit-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{width:100%;font-size:14px;padding:10px}}"]})};export{F as LayersComponent};
